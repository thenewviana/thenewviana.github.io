(this["webpackJsonpviana-frontend"]=this["webpackJsonpviana-frontend"]||[]).push([[9],{442:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return g}));var a=n(3),c=n(9),l=n(12),r=n(13),s=n(18),i=n(17),o=n(1),d=n.n(o),j="601fc48799c07",h=["*"],b=["*"],u=n(29),m=function(){function e(t){Object(l.a)(this,e),this.sdk=t}return Object(r.a)(e,[{key:"create",value:function(e,t){this.sdk.database.createDocument(j,t,h,b).then((function(t){e&&e(t)})).catch((function(e){return Object(u.a)(e)}))}},{key:"list",value:function(e){this.sdk.database.listDocuments(j).then((function(t){if(e){var n=t.documents;e(n)}})).catch((function(e){return Object(u.a)(e)}))}},{key:"update",value:function(e,t){this.sdk.database.updateDocument(j,t.$id,t,h,b).then((function(t){e&&e(t)})).catch((function(e){return Object(u.a)(e)}))}},{key:"delete",value:function(e,t){this.sdk.database.deleteDocument(j,t.$id).then((function(t){e&&e(t)})).catch((function(e){return Object(u.a)(e)}))}}]),e}(),O=n(4),x=n(7),f=function(e){var t=e.state,n=e.onRoleSelected,c=e.removeRole,l=e.handleSubmit,r=e.handleChange;return Object(a.jsxs)(O.O,{children:[Object(a.jsx)(O.l,{md:"8",children:Object(a.jsxs)(O.g,{children:[Object(a.jsx)(O.k,{children:"Daftar Jabatan"}),Object(a.jsx)(O.h,{children:Object(a.jsxs)("table",{className:"table table-hover table-outline mb-0 d-none d-sm-table",children:[Object(a.jsx)("thead",{className:"thead-light",children:Object(a.jsxs)("tr",{children:[Object(a.jsx)("th",{children:"Nama Jabatan"}),Object(a.jsx)("th",{className:"text-center",children:Object(a.jsx)(x.a,{name:"cil-user"})}),Object(a.jsx)("th",{children:"Keterangan"}),Object(a.jsx)("th",{className:"text-center",children:Object(a.jsx)(x.a,{name:"cil-settings"})})]})}),Object(a.jsx)("tbody",{children:t.roleList.map((function(e,l){return Object(a.jsxs)("tr",{onClick:function(){return n(l)},style:{cursor:"pointer",backgroundColor:l===t.selectedRole?"#ebedef":"white"},children:[Object(a.jsxs)("td",{children:[" ",Object(a.jsx)("div",{children:e.name})," "]}),Object(a.jsx)("td",{className:"text-center",children:Object(a.jsx)("div",{className:"c-avatar",children:Object(a.jsx)("img",{src:"/avatars/1.jpg",className:"c-avatar-img",alt:"admin@bootstrapmaster.com"})})}),Object(a.jsxs)("td",{children:[" ",Object(a.jsx)("div",{children:e.desc})," "]}),Object(a.jsxs)("td",{className:"text-center",children:[" ",Object(a.jsx)(O.d,{onClick:function(){return c(l)},size:"sm",variant:"ghost",shape:"pill",color:"danger",children:Object(a.jsx)(x.a,{name:"cil-trash"})})," "]})]},l)}))})]})})]})}),Object(a.jsx)(O.l,{md:"4",children:Object(a.jsx)(O.u,{onSubmit:l,children:Object(a.jsxs)(O.g,{children:[Object(a.jsxs)(O.k,{children:[t.roleForm.$id?"Edit":"Tambah",Object(a.jsx)("small",{children:" Jabatan"})]}),Object(a.jsxs)(O.h,{children:[Object(a.jsxs)(O.v,{children:[Object(a.jsx)(O.G,{htmlFor:"city",children:"Nama"}),Object(a.jsx)(O.C,{name:"name",value:t.roleForm.name,placeholder:"Nama Jabatan",onChange:function(e){return r(e)}})]}),Object(a.jsxs)(O.v,{children:[Object(a.jsx)(O.G,{children:"Keterangan"}),Object(a.jsx)(O.Y,{name:"desc",value:t.roleForm.desc,onChange:function(e){return r(e)},rows:"3",placeholder:"Tulis disini..."})]}),t.roleForm.$id?Object(a.jsxs)(O.v,{children:[Object(a.jsx)(O.G,{htmlFor:"ID",children:"ID"}),Object(a.jsx)(O.C,{name:"$id",value:t.roleForm.$id,placeholder:"ID",readOnly:!0})]}):Object(a.jsx)("div",{})]}),Object(a.jsx)(O.i,{children:Object(a.jsxs)(O.d,{type:"submit",size:"sm",color:"info",children:[Object(a.jsx)(x.a,{name:"cil-scrubber"})," Simpan"]})})]})})})]})},v={name:"",desc:""},g=function(e){Object(s.a)(n,e);var t=Object(i.a)(n);function n(e){var a;return Object(l.a)(this,n),(a=t.call(this,e)).getList=function(){a.roleService.list(a.callbackList)},a.onRoleSelected=function(e){if(e===a.state.selectedRole)a.setState({selectedRole:-1,roleForm:v});else{var t=Object(c.a)({},a.state.roleForm);t=a.state.roleList[e],a.setState({selectedRole:e,roleForm:t})}},a.handleChange=function(e){var t=Object(c.a)({},a.state.roleForm);t[e.target.name]=e.target.value,a.setState({roleForm:t})},a.handleSubmit=function(e){e.preventDefault(),a.loading(!0),a.state.roleForm.$id?a.roleService.update(a.callbackSubmit,a.state.roleForm):a.roleService.create(a.callbackSubmit,a.state.roleForm)},a.removeRole=function(){var e={title:"Peringatan Penghapusan",content:"Anda yakin akan menghapus data ini?",color:"danger",callback:function(e){return a.confirmRemoved(e)}};a.modal(!0,e)},a.callbackList=function(e){a.setState({roleList:e}),a.loading(!1)},a.callbackSubmit=function(){a.setState({roleForm:v}),a.getList()},a.callbackRemove=function(){a.getList()},a.loading=e.loading,a.modal=e.modal,a.state={selectedRole:-1,roleForm:v,roleList:[]},a.roleService=new m(e.auth.sdk),a}return Object(r.a)(n,[{key:"componentDidMount",value:function(){this.loading(!0),this.getList()}},{key:"confirmRemoved",value:function(e){e&&this.roleService.delete(this.callbackRemove,this.state.roleForm)}},{key:"render",value:function(){return Object(a.jsx)(f,{state:this.state,onRoleSelected:this.onRoleSelected,handleChange:this.handleChange,handleSubmit:this.handleSubmit,removeRole:this.removeRole})}}]),n}(d.a.Component)}}]);
//# sourceMappingURL=9.f6b94c07.chunk.js.map