{"version":3,"sources":["modules/Metabase/components/Dashboard1.js"],"names":["payload","resource","dashboard","params","exp","Math","round","Date","now","Dashboard1","props","state","iframeUrl","loading","METABASE_SITE_URL","jwt","sign","process","this","setState","url","width","height","overflow","scrolling","frameBorder","React","Component"],"mappings":"4hBAcMA,EAAU,CACZC,SAAU,CAAEC,UAAW,GACvBC,OAAQ,GACRC,IAAKC,KAAKC,MAAMC,KAAKC,MAAQ,KAAS,KAGrBC,E,kDAEjB,WAAYC,GAAQ,IAAD,8BACf,cAAMA,IACDC,MAAQ,CAACC,UAAW,MACzB,EAAKC,QAAUH,EAAMG,QAHN,E,gEAOf,IAEMD,EAAYE,uDAFJC,IAAIC,KAAKhB,EAjBHiB,oEAmBgD,8BAEpEC,KAAKC,SAAS,CAACP,UAAWA,IAE1BM,KAAKL,SAAQ,K,+BAIb,OACI,cAAC,IAAD,UACI,cAAC,IAAD,UACI,eAAC,IAAD,WACI,cAAC,IAAD,UACI,oDAEJ,cAAC,IAAD,UACI,cAAC,IAAD,CACIO,IAAKF,KAAKP,MAAMC,UAChBS,MAAM,OACNC,OAAO,QACPC,SAAU,SACVC,UAAW,KACXC,YAAa,mB,GAjCLC,IAAMC","file":"static/js/4.a4df7339.chunk.js","sourcesContent":["import React from 'react';\r\nimport jwt from 'jsonwebtoken';\r\nimport Iframe from 'react-iframe';\r\n\r\nimport {\r\n  CCard,\r\n  CCardBody,\r\n  CCardHeader,\r\n  CCol,\r\n  CRow} from '@coreui/react';\r\n\r\nconst METABASE_SITE_URL = process.env.REACT_APP_METABASE_SITE_URL;\r\nconst METABASE_SECRET_KEY = process.env.REACT_APP_METABASE_SECRET_KEY;\r\n\r\nconst payload = {\r\n    resource: { dashboard: 1 },\r\n    params: {},\r\n    exp: Math.round(Date.now() / 1000) + (10 * 60) // 10 minute expiration\r\n};\r\n\r\nexport default class Dashboard1 extends React.Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {iframeUrl: null};\r\n        this.loading = props.loading;\r\n    }\r\n\r\n    componentDidMount() {\r\n        const token = jwt.sign(payload, METABASE_SECRET_KEY);\r\n        // console.log(token);\r\n        const iframeUrl = METABASE_SITE_URL + \"/embed/dashboard/\" + token + \"#bordered=false&titled=true\";\r\n        // console.log(iframeUrl);\r\n        this.setState({iframeUrl: iframeUrl});\r\n\r\n        this.loading(false);\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <CRow>\r\n                <CCol>\r\n                    <CCard>\r\n                        <CCardHeader>\r\n                            <h5>Demo Dashboard 1</h5>\r\n                        </CCardHeader>\r\n                        <CCardBody>\r\n                            <Iframe\r\n                                url={this.state.iframeUrl}\r\n                                width=\"100%\"\r\n                                height=\"370px\"\r\n                                overflow= \"hidden\"\r\n                                scrolling= \"no\"\r\n                                frameBorder= \"0\"\r\n                            />\r\n                        </CCardBody>\r\n                    </CCard>\r\n                </CCol>\r\n            </CRow>\r\n        );\r\n    }\r\n}\r\n"],"sourceRoot":""}